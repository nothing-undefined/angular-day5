<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../../angular.js"></script>
</head>
<!--<body ng-app="app">
    <input type="button" value=" 请等待 {{ second }} 秒 " ng-disabled="no">
</body>
<script>
    angular.module( 'app', [] )
        .run( [ '$rootScope', function ( $rootScope ) {
            $rootScope.no = true;
            $rootScope.second = 5;
            var i = 0;

            var interval = setInterval(function () {
                i++;
                $rootScope.second--;
                if ( i >= 5 ) {
                    clearInterval( interval );
                    $rootScope.no = false;
                }
            }, 1000);

        }] )
</script>-->


<body ng-app="app">
    <input type="button" value=" click " ng-disabled="no">
</body>
<script>
    angular.module( 'app', [] )
        .run( [ '$rootScope', function ( $rootScope ) {
            $rootScope.no = true;
            var i = 0;

            // 作用域
            var interval = setInterval(function () {
                i++;
                console.log( i );
                if ( i >= 5 ) {
                    clearInterval( interval );
                    $rootScope.no = false;
                    $rootScope.$apply(); // 强制通知 ng 刷新页面
                }
            }, 1000);

        }] );
</script>


</html>